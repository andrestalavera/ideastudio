@using IdeaStudio.Website.Models

<section id="about" class="py-5">
    <div class="container">
        @if (Cards != null && Cards.Any())
        {
            <div class="row g-4">
                @foreach (var (card, index) in Cards.Select((c, i) => (c, i)))
                {
                    <div class="col-lg-6">
                        <article class="card h-100 fade-in-up"
                                 data-bs-delay="@(index * 100)"
                                 style="transition-delay: @(index * 100)ms;">
                            @if (card.Banner != null)
                            {
                                <img src="@card.Banner" class="card-img-top rounded-top" alt="@card.Title banner" loading="lazy">
                            }
                            <div class="card-body d-flex flex-column p-4">
                                <h3 class="card-title h4 mb-3 fw-bold">@card.Title</h3>
                                @if (card.Paragraphs != null)
                                {
                                    @foreach (string paragraph in card.Paragraphs)
                                    {
                                        <p class="card-text mb-2 ">@((MarkupString)paragraph)</p>
                                    }
                                }

                                @if (card.Images != null)
                                {
                                    <div class="d-flex gap-3 my-3 justify-content-center">
                                        @foreach (string image in card.Images)
                                        {
                                            <img src="images/@image" alt="@card.Title technology" class="tech-icon p-2" width="64" height="64" loading="lazy">
                                        }
                                    </div>
                                }

                                @if (card.Icons != null)
                                {
                                    <div class="d-flex gap-3 my-3 justify-content-center">
                                        @foreach (string icon in card.Icons)
                                        {
											<i class="@icon fs-4" aria-hidden="true"></i>
                                        }
                                    </div>
                                }
                            </div>
                        </article>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="row g-4">
                @for (int i = 0; i < 6; i++)
                {
                    <div class="col-lg-6">
                        <div class="card h-100 bg-acrylic-2 border-0 placeholder-card">
                            <div class="card-body p-4">
                                <div class="placeholder-glow">
                                    <span class="placeholder col-6 rounded-pill mb-3 bg-primary"></span>
                                    <span class="placeholder col-4 rounded-pill mb-2 bg-secondary"></span>
                                    <span class="placeholder col-8 rounded-pill mb-2 bg-secondary"></span>
                                    <span class="placeholder col-5 rounded-pill bg-secondary"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
    </div>
</section>

@code {
    [Parameter] public IEnumerable<Card>? Cards { get; set; }
}
