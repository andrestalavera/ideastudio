// bootstrap functions first
@import "../../node_modules/bootstrap/scss/functions";

// bootstrap variable overrides
$spacer: 24px;
$border-radius: 12px;
$border-radius-sm: 8px;
$border-radius-lg: 16px;
$border-radius-xl: 24px;
$border-radius-xxl: 32px;
$border-radius-pill: 50rem;

$primary: rgb(0, 76, 141);
$secondary: rgb(132, 44, 247);
$success: rgb(0, 164, 98);
$info: rgb(0, 113, 168);
$warning: rgb(247, 131, 44);
$danger: rgb(247, 44, 44);
$light: rgb(170, 215, 255);
$dark: rgb(18, 38, 55);

$font-family-sans-serif: "Segoe UI Variable", "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
$font-weight-light: 300;
$font-weight-normal: 400;
$font-weight-semibold: 600;
$font-weight-bold: 700;
$line-height-base: 1.6;

$enable-gradients: false;
$enable-negative-margins: false;
$enable-rounded: true;
$enable-smooth-scroll: true;

// bootstrap core
@import "../../node_modules/bootstrap/scss/variables";
@import "../../node_modules/bootstrap/scss/variables-dark";
@import "../../node_modules/bootstrap/scss/maps";
@import "../../node_modules/bootstrap/scss/mixins";
@import "../../node_modules/bootstrap/scss/utilities";

// layout & components
@import "../../node_modules/bootstrap/scss/root";
@import "../../node_modules/bootstrap/scss/reboot";
@import "../../node_modules/bootstrap/scss/type";
@import "../../node_modules/bootstrap/scss/images";
@import "../../node_modules/bootstrap/scss/containers";
@import "../../node_modules/bootstrap/scss/grid";
@import "../../node_modules/bootstrap/scss/forms";
@import "../../node_modules/bootstrap/scss/buttons";
@import "../../node_modules/bootstrap/scss/dropdown";
@import "../../node_modules/bootstrap/scss/transitions";
@import "../../node_modules/bootstrap/scss/nav";
@import "../../node_modules/bootstrap/scss/navbar";
@import "../../node_modules/bootstrap/scss/card";
@import "../../node_modules/bootstrap/scss/badge";
@import "../../node_modules/bootstrap/scss/list-group";
@import "../../node_modules/bootstrap/scss/spinners";
@import "../../node_modules/bootstrap/scss/placeholders";
@import "../../node_modules/bootstrap/scss/helpers";
@import "../../node_modules/bootstrap/scss/utilities/api";

// mixins
@mixin fluent-ease($duration: .3s) {
    transition: all $duration cubic-bezier(.1, .9, .2, 1);
}

@mixin fade-in-animation($delay: .5s) {
    opacity: .7 !important;
    transform: translateY(50px) scale(.975) !important;
    transition: all $delay cubic-bezier(0.4, 0.0, 0.2, 1.5) $delay, transform $delay cubic-bezier(0.4, 0.0, 0.2, 1.5) $delay;
    -webkit-filter: blur(10px) !important;
    filter: blur(10px) !important;

    &.animate {
        opacity: .975 !important;
        transform: scale(1) !important;
        -webkit-filter: blur(0) !important;
        filter: blur(0) !important;
    }

    @media print {
        opacity: 1 !important;
        transform: none !important;
        transition: none !important;
        filter: none !important;

        &.animate {
            opacity: 1 !important;
            transform: none !important;
            transition: none !important;
            filter: none !important;
        }
    }
}

// base
body {
    font-family: $font-family-sans-serif;
    line-height: $line-height-base;
    overflow-x: hidden;
}

// accessibility
.skip-link {
    position: absolute;
    top: -50px;
    left: 10px;
    z-index: 9999;
    padding: 12px 24px;
    color: $primary;
    text-decoration: none;
    border-radius: $border-radius;
    font-weight: $font-weight-semibold;
    @include fluent-ease();

    &:focus {
        top: 10px;
    }
}

*:focus {
    outline: 3px solid rgba($primary, .8);
    outline-offset: 2px;
}

// video background in index.html
#video-background-container {
    inset: 0;
    pointer-events: none;
}

// acrylic surface
.bg-acrylic {
    -webkit-backdrop-filter: blur(10px) !important;
    backdrop-filter: blur(10px) !important;

    @media print {
        -webkit-backdrop-filter: none !important;
        backdrop-filter: none !important;
    }
}

// loading overlay (index + MainLayout)
.loading-overlay {
    animation: fadeOutOverlay 5s ease-out forwards;
    z-index: 9999;
}

@keyframes fadeOutOverlay {

    0%, 80% {
        opacity: 1
    }

    95% {
        opacity: 0
    }

    100% {
        opacity: 0;
        display: none;
        pointer-events: none
    }
}

// navbar
.navbar {
    @include fluent-ease();

    .navbar-brand img {
        filter: drop-shadow(0 0 8px rgba($light, .5));
    }

    .navbar-toggler:focus {
        @extend .shadow-lg;
    }

    .navbar-nav .nav-link {
        @include fluent-ease();

        &.active,
        &:hover {
            --bs-bg-opacity: .5;
            background: $light;
            color: $dark !important;
        }
    }
}

// hero
.hero-section {
    #hero-background img {
        mix-blend-mode: overlay;
        transition: opacity 2s ease-in-out;
    }

    .hero-card {
        @include fluent-ease();

        @media print {
            margin-inline: auto;
            text-align: center;
        }
    }

    .profile-image-container .profile-image {
        @extend .border;
        @extend .border-3;
        @extend .border-opacity-25;
        @include fluent-ease();

        &:hover {
            @extend .border;
            @extend .border-3;
            @extend .border-opacity-50;
            transform: scale(1.05);
        }

        @media print {
            max-width: 150px;
            max-height: 150px;
        }
    }
}

// cards
.card {
    @extend .border;
    @extend .border-light;
    @extend .border-2;
    @extend .border-opacity-50;
    @extend .bg-acrylic;
    @extend .shadow-lg;
    @extend .p-1;
    @extend .rounded;
    @include fluent-ease();

    .card-body {
        @extend .p-4;
    }

    .card-title {
        font-weight: $font-weight-bold;
        @extend .mb-2;
    }

    .card-text {
        line-height: 1.4;
    }
}

// buttons and badges
.btn,
.badge {
    @include fluent-ease();
    @extend .bg-acrylic;
    @extend .border-opacity-50;
    @extend .bg-opacity-75;
    @extend .shadow;
    @extend .rounded-pill;
    @extend .m-1;
    @extend .align-items-center;
    @extend .fw-light;

    &:hover {
        @extend .shadow-lg;
        @extend .border-opacity-75;
        transform: translateY(-2px) scale(1.025);
    }
}

// animation utility
.fade-in-up {
    @include fade-in-animation();
}

// sections
section {
    scroll-margin-top: 80px;
}

// helpers
.linkedin-logo {
    color: rgb(44, 100, 188) !important;
}

@for $i from 1 through 3 {
    .text-shadow-#{$i} {
        text-shadow: 1px * $i 2px * $i 4px * $i $primary !important;
    }
}

// reduced motion
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: .01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: .01ms !important;
        scroll-behavior: auto !important;
    }

    .fade-in-up {
        opacity: 1;
        transform: none;
    }

    .loading-overlay {
        animation: none;
        opacity: 0;
        display: none;
        pointer-events: none;
    }
}

// print
@media print {

    .container,
    .row,
    .col,
    .card,
    .card-body,
    .card-title,
    .card-text,
    .lead {
        border: none !important;
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        background: transparent !important;
        color: $dark !important;
    }

    .container {
        max-width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    .col,
    [class*="col"] {
        width: 100% !important;
        flex: 0 0 100% !important;
        max-width: 100% !important;
    }

    .shadow,
    .shadow-lg,
    .text-shadow-1,
    .text-shadow-2,
    .text-shadow-3 {
        box-shadow: none !important;
        text-shadow: none !important;
    }

    .row,
    [class*="p-"],
    [class*="m-"],
    [class*="g-"] {
        padding: 0 !important;
        margin: 0 !important;
    }

    [class*="min-vh"],
    [class*="max-vh"],
    [class*="vh"] {
        min-height: inherit !important;
        height: inherit !important;
        max-height: inherit !important;
    }

    @for $i from 1 through 5 {
        .text-shadow-#{$i} {
            text-shadow: none !important;
        }
    }

    .pagebreak {
        clear: both;
        -webkit-page-break-after: always;
        -moz-page-break-after: always;
        page-break-after: always;
    }

    .text-white,
    .text-light,
    .badge {
        color: $dark !important;
    }

    .badge {
        padding: .4rem !important;
        margin: .3rem !important;
        background-color: transparent !important;
        border: 1.5px solid rgba(0, 76, 141, .25) !important;
        color: rgb(0, 76, 141) !important;
    }

    .text-bg-primary {
        background-color: transparent !important;
    }

    img,
    i {
        margin-right: 1rem !important;
    }

    * {
        --bs-border-opacity: 1 !important;
        --bs-bg-opacity: 1 !important;
    }
}

// custom scrollbar
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, .1);
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, .3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, .5);
}
