<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO Meta Tags -->
    <title>Andrés Talavera - Expert .NET Developer & Azure Consultant | IdeaStud.io</title>
    <meta name="description" content="Experienced .NET developer, Azure consultant, and technical trainer specializing in cloud-based applications, ASP.NET Core, and software architecture. Based in Lyon, France." />
    <meta name="keywords" content=".NET developer, Azure consultant, Blazor expert, ASP.NET Core, cloud architecture, software trainer, Lyon France, technical consultant, full-stack developer" />
    <meta name="author" content="Andrés Talavera" />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#0071a8" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Andrés Talavera - Expert .NET Developer & Azure Consultant" />
    <meta property="og:description" content="Experienced .NET developer and Azure consultant helping businesses build modern web applications and cloud solutions. 10+ years of expertise." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ideastud.io" />
    <meta property="og:image" content="https://ideastud.io/images/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="IdeaStud.io" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@andrestalavera" />
    <meta name="twitter:creator" content="@andrestalavera" />
    <meta name="twitter:title" content="Andrés Talavera - Expert .NET Developer & Azure Consultant" />
    <meta name="twitter:description" content="Experienced .NET developer and Azure consultant helping businesses build modern web applications and cloud solutions." />
    <meta name="twitter:image" content="https://ideastud.io/images/twitter-card.jpg" />

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://kit.fontawesome.com" />
    <link rel="preconnect" href="https://assets.calendly.com" />

    <!-- Preload critical resources -->
    <link rel="preload" href="css/styles.min.css" as="style" />
    <link rel="preload" href="images/video-background.jpg" as="image" />
    <link rel="preload" href="images/andres-talavera.jpeg" as="image" />
    <link rel="preload" href="images/aboutme-background.png" as="image" />

    <!-- Stylesheets -->
    <link href="css/styles.min.css" rel="stylesheet" />
    <link href="css/print.min.css" rel="stylesheet" media="print" />

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <link rel="manifest" href="site.webmanifest" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://ideastud.io" />

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Andrés Talavera",
        "jobTitle": ".NET Developer and Azure Consultant",
        "description": "Experienced .NET developer, author, and trainer specializing in Azure and web technologies.",
        "url": "https://ideastud.io",
        "image": "https://ideastud.io/images/andres-talavera.jpeg",
        "sameAs": [
            "https://www.linkedin.com/in/andrestalavera/",
            "https://github.com/andrestalavera"
        ],
        "knowsAbout": [
            ".NET", "Azure", "Blazor", "ASP.NET Core", "Cloud Architecture",
            "Software Training", "Technical Consulting", "Web Development"
        ],
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Lyon",
            "addressRegion": "Auvergne-Rhône-Alpes",
            "addressCountry": "FR"
        },
        "worksFor": {
            "@type": "Organization",
            "name": "IdeaStud.io",
            "url": "https://ideastud.io"
        }
    }
    </script>

    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/a34e72ff1c.js" crossorigin="anonymous" defer></script>

    <!-- Calendly -->
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <script src="https://assets.calendly.com/assets/external/widget.js" defer></script>
</head>

<body class="vh-100">
    <div id="app">
        <!-- This will be replaced by Blazor -->
    </div>

    <script src="_framework/blazor.webassembly.js" defer></script>

    <!-- Custom JavaScript for animations and scroll spy -->
    <script>
        // Initialize loading animation
        window.initializeLoadingAnimation = () => {
            // Load video after page loads
            setTimeout(() => {
                const video = document.querySelector('#video-background video');
                if (video) {
                    video.addEventListener('canplay', () => {
                        video.style.opacity = '1';
                        video.setAttribute('data-loaded', 'true');
                    });

                    // Force load video sources
                    video.load();
                }
            }, 2000);
        };

        // Initialize scroll spy and animations
        window.initializeScrollSpy = () => {
            // Update active nav links based on scroll position
            const sections = document.querySelectorAll('section[id]');
			console.log(sections);
            const navLinks = document.querySelectorAll('.nav-link[data-section]');
			console.log(navLinks);

            function updateActiveNavLink() {
                let current = '';
                const scrollY = window.scrollY;

                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionHeight = section.offsetHeight;
                    if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-section') === current) {
                        link.classList.add('active');
                    }
                });
            }

            window.addEventListener('scroll', updateActiveNavLink);
            updateActiveNavLink();
        };

        // Initialize fade in animations
        window.initializeFadeInAnimations = () => {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
						console.log(`Entry: ${entry}`);
						// entry.target.classList.add('fade-in-up');
						// entry.target.classList.remove('fade-out');
						console.log(`${entry.target.id} is intersecting`);
                        const delay = entry.target.getAttribute('data-bs-delay') || 0;
                        setTimeout(() => {
                            entry.target.classList.add('animate');
                        }, delay);
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.fade-in-up').forEach(el => {
                observer.observe(el);
            });
        };

        // Smooth scrolling for anchor links
        document.addEventListener('click', function(e) {
            if (e.target.matches('a[href^="#"]')) {
                e.preventDefault();
                const targetId = e.target.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });

        // Initialize everything when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            // Add Bootstrap classes if needed
            if (typeof bootstrap !== 'undefined') {
                // Initialize Bootstrap components
                const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
                tooltipTriggerList.map(function (tooltipTriggerEl) {
                    return new bootstrap.Tooltip(tooltipTriggerEl);
                });
            }
        });
    </script>
</body>
</html>
